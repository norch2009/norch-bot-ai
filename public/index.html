<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Norch</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" type="image/png" href="/favicon.png" />
  <link rel="stylesheet" href="/style.css" />

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { getAuth, onAuthStateChanged, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyD0xMxtjoG1Zj1Jvvn5gFiBND16yHL6oA",
      authDomain: "norch-app-da539.firebaseapp.com",
      projectId: "norch-app-da539",
      storageBucket: "norch-app-da539.appspot.com",
      messagingSenderId: "610778572844",
      appId: "1:610778572844:web:bd064667e5dee374e20989"
    };

    const app = initializeApp(firebaseConfig);
    window.auth = getAuth(app);
    window.db = getFirestore(app);
  </script>
</head>

<body>
  <!-- Loading -->
  <div id="loadingScreen">
    <div class="spinner"></div>
    <h2>Loading Norch...</h2>
  </div>

  <!-- Header -->
  <div class="chat-container">
    <header>
      <h1>ğŸ’¬ NORCH BY APRIL MANALO</h1>
      <div class="menu">
        <button onclick="toggleTheme()">ğŸ”</button>
        <button onclick="toggleAbout()">â‹¯</button>
        <button onclick="logout()">ğŸšª</button>
      </div>
    </header>

    <!-- About AI -->
    <div id="aboutSection">
      <h2>ğŸ¤– About Norch</h2>
      <p>
        Norch is a Filipino GPT AI assistant created by <strong>April Manalo</strong><br />
        Trained by the Norch Team. Powered by GPT-40 API.<br />
        ğŸ’¡ Supports Markdown, LaTeX, Tagalog voice, and memory.
      </p>
    </div>

    <!-- Login -->
    <div class="auth-box" id="loginBox">
      <input type="email" id="email" placeholder="Email" />
      <input type="password" id="password" placeholder="Password" />
      <button onclick="login()">ğŸ”“ Login</button>
      <button onclick="register()">ğŸ“ Register</button>
    </div>

    <!-- Chat -->
    <div class="chat-box" id="chatBox" hidden></div>

    <form id="chatForm" hidden>
      <input id="userInput" type="text" placeholder="Ask me anything..." autocomplete="off" />
      <button type="submit">Send</button>
      <button onclick="clearChat()">ğŸ—‘ï¸</button>
    </form>
  </div>

  <!-- Markdown -->
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <!-- MathJax -->
  <script>
    window.MathJax = {
      tex: { inlineMath: [['\\(', '\\)'], ['$', '$']] },
      svg: { fontCache: 'global' }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <!-- Script -->
  <script src="/script.js" type="module"></script>
</body>
</html>
